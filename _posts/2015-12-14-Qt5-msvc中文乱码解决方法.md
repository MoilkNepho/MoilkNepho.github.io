---
layout: post
title: Qt5-msvc中文乱码解决方法
tags:  [Qt]
categories: [Qt]
author: Moilk
excerpt: "Qt-mingw从来没出现过乱码的问题,但msvc版却..."
---
## Qt5-msvc中文乱码

### 现象:
 
 - 在mignw版不会出现乱码问题
 - 使用Qt设计师绘制的ui不会出现乱码问题
 - 在msvc版字符串中出现中文时
> 如果字符串以中文字符结尾，编译会报格式错误
> 如果字符串以英文字符结尾,编译会报出文件中有非unicode字符的警告

### 解决方法
 
 - 文件编码设置如下:
![文件编码设置](http://duras.wang/Blog/assets/images/2015121401.png)
 - 同时字符串需要被QStringLiteral包裹

``` java
textBrowser->setText(QStringLiteral("进入查询界面成功!"));
```